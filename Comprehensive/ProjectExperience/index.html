<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>主要业务 | 杰尼龟的知识空间</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/powderblueBlog/assets/css/0.styles.17348205.css" as="style"><link rel="preload" href="/powderblueBlog/assets/js/app.79abdad2.js" as="script"><link rel="preload" href="/powderblueBlog/assets/js/2.a2f218dc.js" as="script"><link rel="preload" href="/powderblueBlog/assets/js/8.a82ed3c9.js" as="script"><link rel="prefetch" href="/powderblueBlog/assets/js/10.0ab88e72.js"><link rel="prefetch" href="/powderblueBlog/assets/js/11.95764ad6.js"><link rel="prefetch" href="/powderblueBlog/assets/js/12.7953ce97.js"><link rel="prefetch" href="/powderblueBlog/assets/js/13.4c782cc5.js"><link rel="prefetch" href="/powderblueBlog/assets/js/14.60e34d90.js"><link rel="prefetch" href="/powderblueBlog/assets/js/15.2849b53c.js"><link rel="prefetch" href="/powderblueBlog/assets/js/16.5fa0b3f6.js"><link rel="prefetch" href="/powderblueBlog/assets/js/17.599efe6c.js"><link rel="prefetch" href="/powderblueBlog/assets/js/3.59880b52.js"><link rel="prefetch" href="/powderblueBlog/assets/js/4.2a9537eb.js"><link rel="prefetch" href="/powderblueBlog/assets/js/5.e5513792.js"><link rel="prefetch" href="/powderblueBlog/assets/js/6.8dcd4e8f.js"><link rel="prefetch" href="/powderblueBlog/assets/js/7.3180cc23.js"><link rel="prefetch" href="/powderblueBlog/assets/js/9.737f6472.js">
    <link rel="stylesheet" href="/powderblueBlog/assets/css/0.styles.17348205.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/powderblueBlog/" class="home-link router-link-active"><!----> <span class="site-name">杰尼龟的知识空间</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/powderblueBlog/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端三剑客" class="dropdown-title"><span class="title">前端三剑客</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端三剑客" class="mobile-dropdown-title"><span class="title">前端三剑客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/powderblueBlog/ThreeSwordsman/HTMLandCSS-Topic/" class="nav-link">
  HTMLandCSS
</a></li><li class="dropdown-item"><!----> <a href="/powderblueBlog/ThreeSwordsman/JavaScript-Topic/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/powderblueBlog/ThreeSwordsman/LESSandSCSS/" class="nav-link">
  LESSandSCSS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/powderblueBlog/vue/vue-know/" class="nav-link">
  Vue2基础面视题
</a></li><li class="dropdown-item"><!----> <a href="/powderblueBlog/vue/vue-hard/" class="nav-link">
  Vue难点面视题
</a></li><li class="dropdown-item"><!----> <a href="/powderblueBlog/vue/Vue3/" class="nav-link">
  Vue3
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="综合" class="dropdown-title"><span class="title">综合</span> <span class="arrow down"></span></button> <button type="button" aria-label="综合" class="mobile-dropdown-title"><span class="title">综合</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/powderblueBlog/Comprehensive/CommonTopic/" class="nav-link">
  常见面试题
</a></li><li class="dropdown-item"><!----> <a href="/powderblueBlog/Comprehensive/Rendering/" class="nav-link">
  常见面试题2
</a></li><li class="dropdown-item"><!----> <a href="/powderblueBlog/Comprehensive/RBAC/" class="nav-link">
  权限控制怎么做
</a></li><li class="dropdown-item"><!----> <a href="/powderblueBlog/Comprehensive/ProjectExperience/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  项目经验
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/powderblueBlog/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端三剑客" class="dropdown-title"><span class="title">前端三剑客</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端三剑客" class="mobile-dropdown-title"><span class="title">前端三剑客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/powderblueBlog/ThreeSwordsman/HTMLandCSS-Topic/" class="nav-link">
  HTMLandCSS
</a></li><li class="dropdown-item"><!----> <a href="/powderblueBlog/ThreeSwordsman/JavaScript-Topic/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/powderblueBlog/ThreeSwordsman/LESSandSCSS/" class="nav-link">
  LESSandSCSS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/powderblueBlog/vue/vue-know/" class="nav-link">
  Vue2基础面视题
</a></li><li class="dropdown-item"><!----> <a href="/powderblueBlog/vue/vue-hard/" class="nav-link">
  Vue难点面视题
</a></li><li class="dropdown-item"><!----> <a href="/powderblueBlog/vue/Vue3/" class="nav-link">
  Vue3
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="综合" class="dropdown-title"><span class="title">综合</span> <span class="arrow down"></span></button> <button type="button" aria-label="综合" class="mobile-dropdown-title"><span class="title">综合</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/powderblueBlog/Comprehensive/CommonTopic/" class="nav-link">
  常见面试题
</a></li><li class="dropdown-item"><!----> <a href="/powderblueBlog/Comprehensive/Rendering/" class="nav-link">
  常见面试题2
</a></li><li class="dropdown-item"><!----> <a href="/powderblueBlog/Comprehensive/RBAC/" class="nav-link">
  权限控制怎么做
</a></li><li class="dropdown-item"><!----> <a href="/powderblueBlog/Comprehensive/ProjectExperience/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  项目经验
</a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="主要业务"><a href="#主要业务" class="header-anchor">#</a> 主要业务</h3> <ul><li>嵌套路由（太简单）</li> <li>实现的效果：实现了子页面动态切换</li> <li>思路：<br>
公共布局组件 layout<br>
嵌套路由 children</li></ul> <h3 id="登录功能"><a href="#登录功能" class="header-anchor">#</a> 登录功能</h3> <ol><li>实现登录功能，最核心的技术是 JWT（也就是 token）。我们通过 token 来记录用户的登录状态。并把 token 存储到 vuex 中。</li> <li>具体思路:<br>
首先，我们调用登录的接口，把用户填写的表单信息发送给后端（在真正发起请求之前，为了让用户体验更好，可以在对表单的数据进行合法性校验）。<br>
后端通过之后，会返回一个 token 字符串，里面记录了用户的基本信息。为了在项目中能够方便地获取和使用 token，我们会把 token 存储到 vuex 中。<br>
由于 vuex 中的数据都是存储在内存中的，页面一刷新，状态就丢失了。因此，我们通过 vuex-persistedstate 这个插件，可以把 vuex 中的所有数据，持久化存储到本地。</li></ol> <h3 id="项目中-axios-怎么使用的"><a href="#项目中-axios-怎么使用的" class="header-anchor">#</a> 项目中 axios 怎么使用的</h3> <ol><li><p>axios 在项目中，主要用来发起 Ajax 的数据请求，专门用来实现前后端数据交互的。我们在项目中会对 axios 做进一步的封装。会创建一个 src/utils/request.js 的模块，里面调用 axios.create() 函数，来创建 axios 的实例对象。在调用 create 函数期间可以全局配置请求的 baseURL 根路径等。</p></li> <li><p>对于功能类似的 API 接口，我们会在 src/api 目录下进行接口的封装。这样可以提高 API 接口的复用性。</p></li> <li><p>axios 拦截器的使用:
在项目中还会用到 axios 的拦截器。它主要的应用场景是：<br>
a. 基于请求拦截器展示 loading 提示，基于响应拦截器隐藏 loading 提示<br>
b. 基于请求拦截器，隐藏 loading 提示，为有权限的接口统一添加 Authorization 的 token 认证 c. 基于响应拦截器，判断响应状态码是否为 401，来处理 token 失效后的问题<br>
用户在调用接口的时候，我们会通过 axios 的请求拦截器，判断用户请求的是否为有权限的接口。如果是，则会通过 config.headers 对象，为这次请求添加 Authorization 的请求头，值就是 vuex 中存储的 token 值。这样，有权限的接口才能调用成功。
如果 token 过期了，会触发 axios 的响应拦截器。通过 err.response.status 可以判断响应状态码是否为 401，如果是，则证明 token 过期了，我们需要清空 vuex 中的数据。并通过路由的编程式导航 API，跳转到 login 登录页面，让用户重新进行登录。
if( err.response.status === 401){store.dispatch('removeToken');router.push('/login')}</p></li> <li><p>讲讲移动端列表页面的实现和优化？
主要实现上拉加载更多和下拉刷新，图片懒加载等，优化列表首屏渲染性能。
上拉加载和下拉刷新是依赖 vant 组件库提供的 List 列表组件实现。其中，上拉加载更多原理可以通过触底检测底部加载中提示是否在可视区，进行分页数据的请求和渲染
图片懒加载借助 lazy-load 插件实现，原理是只加载当前可视区域内的图片
组件缓存是通过 vue 内置组件 keep-alive 实现，被缓存组件会执行对应 activated、deactivated 这两个生命周期钩子函数。其中，借助 activated 可以记录列表滚动位置和执行滚动方法，实现阅读记忆功能</p></li> <li><p>频道管理中怎么处理用户自选和默认频道的数据管理？
主要借助计算属性对频道数据进行动态计算，得到用户自选频道数据
根据后台 API 获取所有频道数据和用户频道数据
使用计算属性，根据用户频道数据过滤所有频道数据（所有频道数据 - 用户频道数据 = 可选频道数据），如果当前频道数据在用户频道数据中不存在，就属于可选频道数据</p></li> <li><p>讲讲搜索业务的实现流程？
根据搜索关键词调用后台接口，获取联想词列表。这里为了避免用户输入期间，多次调用联想词接口，进行了函数防抖处理 a. 函数防抖：延迟时间内，没有再次重复触发，就会执行一次（如果重复触发，会清除定时器，重新计时）。主要借助 setTimeout 函数实现 b. 函数节流：延迟时间内，保证会执行一次。主要通过闭包记录上一次执行回调函数时间，如果当前时间 - 上一次执行函数时间 &gt; 延迟时间，就执行回调</p></li> <li><p>你在项目中遇到什么难点<br>
搜索的关键词高亮效果实现 产品经理让实现一个类似百度的搜索关键词高亮效果 我最后用正则来搞定
我把数据中的所有的关键词用正则全局替换成<span style="color:red;">关键词</span> 用 v-html 渲染</p></li> <li><p>阅读记忆如何实现
主要是缓存组件内容，记录滚动位置，下次进入根据记录位置，执行滚动
使用 vue 内置组件 keep-alive 缓存文章详情内容
用户阅读内容滚动页面时，通过 scroll 事件记录滚动高度
下一次用户再次进入当前缓存页，在 activated 钩子函数执行滚动到上次阅读位置 window.scrollTo</p></li></ol> <h3 id="后台管理系统"><a href="#后台管理系统" class="header-anchor">#</a> 后台管理系统</h3> <ul><li>平行数据变成树形数据</li> <li>前端在做树形组件的时候，组件需要的 prop 数据为树形数据 ，但是后端接口返回的是平铺的数组结构，所以需要我们前端自己做一步数据转化以适配组件的需要，转树形数据主要是 自己写了一个属性数组处理方法，大概思路是寻找父节点，找到自己的父节点然后把自己放到父节点的 children 属性中</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:9999;" data-v-248d85d6></canvas></div><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="https://assets.smallsunnyfox.com/music/2.mp3" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:30px;z-index:999999;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="https://assets.smallsunnyfox.com/music/2.jpg" data-v-b1d3339e></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(https://assets.smallsunnyfox.com/music/2.jpg);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>강남역 4번 출구</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>Plastic / Fallin` Dild</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div><canvas id="vuepress-canvas-cursor"></canvas></div></div>
    <script src="/powderblueBlog/assets/js/app.79abdad2.js" defer></script><script src="/powderblueBlog/assets/js/2.a2f218dc.js" defer></script><script src="/powderblueBlog/assets/js/8.a82ed3c9.js" defer></script>
  </body>
</html>
